src/
  app/                     # Composition root + Qt bootstrapping glue
    __init__.py
    main_window.py         # moves most of today's QMainWindow logic here
    bootstrap.py           # command-line parsing, QApplication wiring
    controllers/           # signal/slot handlers that call into core
    services/              # session-wide services (event bus, command router)
  core/                    # Qt-free domain logic
    __init__.py
    models/                # dataclasses for cells, notebooks, metadata
    services/              # NotebookManager, CellManager, FontService, etc.
    persistence/           # file IO, autosave, storage adapters
    execution/             # future kernel/execution pipeline
    validators/            # schema or business rule validators
  interface/qt/            # All Qt widgets and styling
    __init__.py
    windows/               # top-level windows/dialogs (LunaQtWindow, popups)
    widgets/               # buttons, gutter, status bar, reusable composites
    sidebars/              # notebooks/settings sidebars and helpers
    menus/                 # menubar, context menus, action factories
    styling/               # QSS builder + theme tokens (move current theme/, widgets/, style_loader.py here)
    resources/             # icons, fonts, other Qt resource hooks
  shared/                  # Cross-layer helpers (keep Qt-free)
    __init__.py
    constants/             # app-wide constants currently in src/constants
    utils/                 # id generator, hex helpers, logging utilities
  assets/                  # raw bundled assets (fonts, qss snippets, templates)
  tools/                   # scripts (icon generation, packaging)
  tests/                   # mirror layout (test_core, test_interface, etc.)